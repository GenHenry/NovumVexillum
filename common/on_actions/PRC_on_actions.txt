on_actions = {
	
	on_startup = {
		effect = {
		
			920 = { 
				#set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			921 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			922 = { 
				#set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			1075 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			1076 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			1077 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			1078 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			1079 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			1080 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			1081 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}
			524 = { 
				set_state_flag = taiwan_states_flag
				add_dynamic_modifier = { modifier = dynamic_prc_strong_de_jure }
			}

			326 = { 
				add_dynamic_modifier = { modifier = dynamic_prc_weak_de_jure }
			}
			729 = { 
				add_dynamic_modifier = { modifier = dynamic_prc_weak_de_jure }
			}
			876 = { 
				add_dynamic_modifier = { modifier = dynamic_prc_weak_de_jure }
			}

			322 = { 
				add_dynamic_modifier = { modifier = dynamic_tib_separatism }
				set_resistance = 30 
				set_compliance = 20
			}
			919 = { 
				add_dynamic_modifier = { modifier = dynamic_tib_separatism }
				set_resistance = 10 
				set_compliance = 30
			}
			935 = { 
				add_dynamic_modifier = { modifier = dynamic_tib_separatism }
				set_resistance = 10 
				set_compliance = 30
				}
			936 = { 
				add_dynamic_modifier = { modifier = dynamic_tib_separatism }
				set_resistance = 10 
				set_compliance = 30
			}
			1228 = { 
				add_dynamic_modifier = { modifier = dynamic_tib_separatism }
				set_resistance = 10 
				set_compliance = 30
			}

			611 = { add_dynamic_modifier = { modifier = dynamic_men_separatism }}
			612 = { add_dynamic_modifier = { modifier = dynamic_men_separatism }}
			621 = { add_dynamic_modifier = { modifier = dynamic_men_separatism }}
			714 = { add_dynamic_modifier = { modifier = dynamic_men_separatism }}
			923 = { add_dynamic_modifier = { modifier = dynamic_men_separatism }}
			
			287 = { 
				add_dynamic_modifier = { modifier = dynamic_sik_separatism }
				set_resistance = 10 
				set_compliance = 30
			}
			617 = { 
				add_dynamic_modifier = { modifier = dynamic_sik_separatism }
				set_resistance = 10 
				set_compliance = 30
			}
			618 = { 
				add_dynamic_modifier = { modifier = dynamic_sik_separatism }
				set_resistance = 10 
				set_compliance = 30
			}
			619 = { 
				add_dynamic_modifier = { modifier = dynamic_sik_separatism }
				set_resistance = 10 
				set_compliance = 30
			}
			788 = { 
				add_dynamic_modifier = { modifier = dynamic_sik_separatism }
				set_resistance = 30 
				set_compliance = 20
			}
			1227 = { 
				add_dynamic_modifier = { modifier = dynamic_sik_separatism }
				set_resistance = 30 
				set_compliance = 25
			}
			
			
			#mainland china claim
			62 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			283 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			287 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			322 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			325 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			326 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			328 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			591 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			592 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			593 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			594 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			595 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			596 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			597 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			598 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			599 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			600 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			601 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			602 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			603 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			604 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			605 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			606 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			607 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			608 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			609 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			610 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			611 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			612 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			613 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			614 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			615 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			616 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			617 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			618 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			619 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			620 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			621 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			622 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			714 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			715 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			716 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			717 = {	add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			728 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			729 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			919 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			923 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			935 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			936 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			788 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			
			1227 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1228 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1229 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1230 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1231 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1232 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1233 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1242 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1243 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1244 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}
			1245 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mainland_de_jure }}

			# Mongolia claim
			330 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mongolia_de_jure }}
			938 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mongolia_de_jure }}
			939 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mongolia_de_jure }}
			940 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mongolia_de_jure }}
			941 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mongolia_de_jure }}
			942 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mongolia_de_jure }}
			943 = { add_dynamic_modifier = { modifier = dynamic_chi_weak_mongolia_de_jure }}
		}
	}
	
	on_war = {
		effect = {
			if = {
				limit = {
					original_tag = PRC
					has_war_with = USA
				}
				news_event = { id = pr_china_news.9 }
			}
		}
		effect = {
			if = {
				limit = {
					original_tag = PRC
					has_war_with = CHI
				}
				news_event = { id = pr_china_news.14 }
			}
		}
		effect = {
			if = {
				limit = {
					original_tag = USA
					has_war_with = TAL
					USA = { has_country_flag = usa_9_11 }
				}
				PRC = { country_event = { id = pr_china.30 } }
			}
		}
	}
	
	on_monthly_PRC = {
		effect = {
			if = {
				limit = {
					every_owned_state = {
						limit = {
							has_dynamic_modifier = { modifier = dynamic_tib_separatism }
						}
					}
				}
				
				random_events = {
					100 = pr_china_outer_worlds.1
					100 = pr_china_outer_worlds.2
					100 = pr_china_outer_worlds.3
					4000 = 0
				}
			}
		}
		effect = {
			if = {
				limit = {
					every_owned_state = {
						limit = {
							has_dynamic_modifier = { modifier = dynamic_sik_separatism }
						}
					}
				}
				
				random_events = {
					100 = pr_china_outer_worlds.4
					100 = pr_china_outer_worlds.5
					100 = pr_china_outer_worlds.6
					4000 = 0
				}
			}
		}
	}
	
	on_new_term_election = {
		effect = {
			random_events = {
				100 = china_election.1
			}
		}
	}
	
	on_subject_free = {
		effect = {
			IF = {
				limit = {
					original_tag = PTW
				}
				PTW = {
					drop_cosmetic_tag = yes
				}
			}
			IF = {
				limit = {
					original_tag = TIB
				}
				TIB = {
					drop_cosmetic_tag = yes
					load_focus_tree = chinese_minor_focus
				}
			}
			IF = {
				limit = {
					original_tag = SIK
				}
				SIK = {
					drop_cosmetic_tag = yes
					load_focus_tree = chinese_minor_focus
				}
			}
			IF = {
				limit = {
					original_tag = HKN
				}
				HKN = {
					drop_cosmetic_tag = yes
					remove_ideas = HKN_trampled_election_reform
					remove_ideas = HKN_sino_british_joint_declaration
					remove_ideas = HKN_british_influence
					remove_ideas = HKN_chinese_influence
				}
			}
		}

	}

	on_puppet = {
		effect = {
			if = {
				limit = {
					FROM = {
						original_tag = PRC
						has_country_flag = PRC_OGAS_system_leader
					}
				}
				set_country_flag = PRC_OGAS_system_member
				if = {
					limit = {
						FROM = {
							has_completed_focus = PRC_OGAS_connecting_to_foreign_network
						}
						NOT = { has_idea = PRC_OGAS_system_puppet_member_improved }
					}
					if = {
						limit = {
							has_idea = PRC_OGAS_system_puppet_member
						}
						swap_ideas = {
							remove_idea = PRC_OGAS_system_puppet_member
							add_idea = PRC_OGAS_system_puppet_member_improved
						}
					}
					else = {
						add_ideas = PRC_OGAS_system_puppet_member_improved
					}
				}
				else_if = {
					limit = {
						NOT = { has_idea = PRC_OGAS_system_puppet_member }
					}
					add_ideas = PRC_OGAS_system_puppet_member
				}
			}
		}
	}
	
	on_join_faction = {
		effect = {
			if = {
				limit = {
					ROOT = { NOT = { is_puppet_of = FROM } }
					FROM = {
						original_tag = PRC
						has_country_flag = PRC_OGAS_system_leader
					}
				}
				set_country_flag = PRC_OGAS_system_member
				if = {
					limit = {
						FROM = {
							has_completed_focus = PRC_OGAS_connecting_to_foreign_network
						}
						NOT = { has_idea = PRC_OGAS_system_partner_member_improved }
					}
					if = {
						limit = {
							has_idea = PRC_OGAS_system_partner_member
						}
						swap_ideas = {
							remove_idea = PRC_OGAS_system_partner_member
							add_idea = PRC_OGAS_system_partner_member_improved
						}
					}
					else = {
						add_ideas = PRC_OGAS_system_puppet_member_improved
					}
				}
				else_if = {
					limit = {
						NOT = { has_idea = PRC_OGAS_system_partner_member }
					}
					add_ideas = PRC_OGAS_system_partner_member
				}
			}
		}
	}
	
	on_ruling_party_change = {
		effect = {
			if = {
				limit = {
					original_tag = PRC
					NOT = {
						OR = {
							has_government = communist
							has_government = social_democrat
							has_government = nationalist
						}
					}
				}
				country_event = { id = pr_china.44 }
			}
		}
	}
	
	#ROOT is capitulated country, FROM is winner.
	on_capitulation = {
		effect = {
			if = {
				limit = {
					ROOT = {
						original_tag = PRK
					}
					FROM = {
						original_tag = PRC
						NOT = { has_war_with = KOR }
					}
					has_global_flag = north_korea_divide
					country_exists = KOR
				}
				FROM = {
					country_event = pr_china.49
					white_peace = PRK
					annex_country = { target = PRK transfer_troops = no }
				}
				news_event = { id = pr_china_news.13 }
			}
		}
	}
}
